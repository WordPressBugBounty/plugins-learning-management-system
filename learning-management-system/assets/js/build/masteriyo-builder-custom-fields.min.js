class CustomFieldRegistry{constructor(){this.fields={}}registerField(e,i,r){var s=[],t=["text","number","textarea","password","date","time","checkbox","radio","select","switch"];r.name||s.push("name"),r?.type||s.push("type"),r?.label||s.push("label"),0<s.length?console.error(`Field registration error: Missing required properties (${s.join(", ")}).`,r):t?.includes(r.type)?(this.fields[e]||(this.fields[e]={}),(s=this.fields[e])[i]||(s[i]=[]),s[i].push(r),s[i].sort((e,i)=>e.priority-i.priority)):console.error(`Field registration error: Invalid field type '${r.type}'. Expected one of ${t.join(", ")}.`,r)}getFields(e,i){return"all"===i?Object.values(this.fields[e]).flat()||[]:this.fields[e]?.[i]||[]}}window.customFieldRegistry=new CustomFieldRegistry;let Masteriyo_Course_Builder={CourseBuilder:{Basic:{registerField:(e,i)=>{customFieldRegistry.registerField("Basic",e,i)}},Curriculum:{Lesson:{registerField:(e,i)=>{customFieldRegistry.registerField("Curriculum.Lesson",e,i)}}},Additional:{registerField:(e,i)=>{customFieldRegistry.registerField("Additional",e,i)}}}};window.registerMasteriyoField=function(i,r,s="Basic"){if(void 0!==Masteriyo_Course_Builder&&Masteriyo_Course_Builder.CourseBuilder){var t,o=s.split(".");let e=Masteriyo_Course_Builder.CourseBuilder;for(t of o)if(!(e=e[t]))return void console.error(`Section '${s}' not found.`);"function"==typeof e.registerField?e.registerField(i,r):console.error(`registerField not found in section '${s}'.`)}else window.pendingMasteriyoFields=window.pendingMasteriyoFields||[],window.pendingMasteriyoFields.push({key:i,options:r,section:s})},document.addEventListener("MasteriyoReady",function(){window.pendingMasteriyoFields&&(window.pendingMasteriyoFields.forEach(({key:e,options:i,section:r})=>{window.registerMasteriyoField(e,i,r)}),window.pendingMasteriyoFields=[])}),document.addEventListener("DOMContentLoaded",function(){document.dispatchEvent(new Event("MasteriyoReady"))});